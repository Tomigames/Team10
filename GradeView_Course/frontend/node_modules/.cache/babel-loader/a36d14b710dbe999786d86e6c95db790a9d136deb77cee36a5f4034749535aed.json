{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Brendon Nguyen\\\\Desktop\\\\T10Code\\\\Team10\\\\GradeView_Course\\\\frontend\\\\src\\\\components\\\\TranscriptDownloader.jsx\",\n  _s = $RefreshSig$();\n// src/components/TranscriptDownloader.js\nimport React, { useState } from 'react';\nimport { motion } from 'framer-motion';\nimport { api } from '../App';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst TranscriptDownloader = ({\n  userId\n}) => {\n  _s();\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const handleDownloadTranscript = async () => {\n    setIsLoading(true);\n    setError(null);\n    try {\n      // Request the PDF from the backend\n      const response = await api.get(`/api/users/${userId}/generate-transcript`, {\n        headers: {\n          'x-user-id': userId\n        },\n        responseType: 'blob' // Important: This tells axios to handle the response as a binary blob\n      });\n\n      // Create a URL for the blob\n      const blob = new Blob([response.data], {\n        type: 'application/pdf'\n      });\n      const url = window.URL.createObjectURL(blob);\n\n      // Create a link and trigger download\n      const link = document.createElement('a');\n      link.href = url;\n      link.setAttribute('download', `transcript.pdf`);\n      document.body.appendChild(link);\n      link.click();\n\n      // Clean up\n      window.URL.revokeObjectURL(url);\n      document.body.removeChild(link);\n    } catch (err) {\n      console.error('Error downloading transcript:', err);\n      setError('Failed to download transcript. Please try again later.');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"my-4\",\n    children: [/*#__PURE__*/_jsxDEV(motion.button, {\n      whileHover: {\n        scale: 1.05\n      },\n      whileTap: {\n        scale: 0.95\n      },\n      onClick: handleDownloadTranscript,\n      disabled: isLoading,\n      className: \"bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded-lg flex items-center justify-center\",\n      style: {\n        minWidth: '200px'\n      },\n      children: isLoading ? /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"inline-block animate-pulse\",\n        children: \"Generating PDF...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n        children: \"Download Official Transcript\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(motion.div, {\n      initial: {\n        opacity: 0\n      },\n      animate: {\n        opacity: 1\n      },\n      className: \"text-red-500 mt-2\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 5\n  }, this);\n};\n_s(TranscriptDownloader, \"vj++RuHna9NxFPGCY0p/mi1GZNM=\");\n_c = TranscriptDownloader;\nexport default TranscriptDownloader;\nvar _c;\n$RefreshReg$(_c, \"TranscriptDownloader\");","map":{"version":3,"names":["React","useState","motion","api","jsxDEV","_jsxDEV","TranscriptDownloader","userId","_s","isLoading","setIsLoading","error","setError","handleDownloadTranscript","response","get","headers","responseType","blob","Blob","data","type","url","window","URL","createObjectURL","link","document","createElement","href","setAttribute","body","appendChild","click","revokeObjectURL","removeChild","err","console","className","children","button","whileHover","scale","whileTap","onClick","disabled","style","minWidth","fileName","_jsxFileName","lineNumber","columnNumber","div","initial","opacity","animate","_c","$RefreshReg$"],"sources":["C:/Users/Brendon Nguyen/Desktop/T10Code/Team10/GradeView_Course/frontend/src/components/TranscriptDownloader.jsx"],"sourcesContent":["// src/components/TranscriptDownloader.js\r\nimport React, { useState } from 'react';\r\nimport { motion } from 'framer-motion';\r\nimport { api } from '../App';\r\n\r\nconst TranscriptDownloader = ({ userId }) => {\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  \r\n  const handleDownloadTranscript = async () => {\r\n    setIsLoading(true);\r\n    setError(null);\r\n    \r\n    try {\r\n      // Request the PDF from the backend\r\n      const response = await api.get(`/api/users/${userId}/generate-transcript`, {\r\n        headers: { \r\n          'x-user-id': userId \r\n        },\r\n        responseType: 'blob' // Important: This tells axios to handle the response as a binary blob\r\n      });\r\n      \r\n      // Create a URL for the blob\r\n      const blob = new Blob([response.data], { type: 'application/pdf' });\r\n      const url = window.URL.createObjectURL(blob);\r\n      \r\n      // Create a link and trigger download\r\n      const link = document.createElement('a');\r\n      link.href = url;\r\n      link.setAttribute('download', `transcript.pdf`);\r\n      document.body.appendChild(link);\r\n      link.click();\r\n      \r\n      // Clean up\r\n      window.URL.revokeObjectURL(url);\r\n      document.body.removeChild(link);\r\n    } catch (err) {\r\n      console.error('Error downloading transcript:', err);\r\n      setError('Failed to download transcript. Please try again later.');\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n  \r\n  return (\r\n    <div className=\"my-4\">\r\n      <motion.button\r\n        whileHover={{ scale: 1.05 }}\r\n        whileTap={{ scale: 0.95 }}\r\n        onClick={handleDownloadTranscript}\r\n        disabled={isLoading}\r\n        className=\"bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded-lg flex items-center justify-center\"\r\n        style={{ minWidth: '200px' }}\r\n      >\r\n        {isLoading ? (\r\n          <span className=\"inline-block animate-pulse\">Generating PDF...</span>\r\n        ) : (\r\n          <span>Download Official Transcript</span>\r\n        )}\r\n      </motion.button>\r\n      \r\n      {error && (\r\n        <motion.div \r\n          initial={{ opacity: 0 }}\r\n          animate={{ opacity: 1 }}\r\n          className=\"text-red-500 mt-2\"\r\n        >\r\n          {error}\r\n        </motion.div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TranscriptDownloader;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}